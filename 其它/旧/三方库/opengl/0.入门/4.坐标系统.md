#### 重要坐标系

###### 物体坐标系

物体坐标系是每个独立物体相对其自身的坐标系，通常以物体的几何中心作为原点，通过物体坐标系可以直观表示一个物体各个顶点的相对位置。

###### 世界坐标系

世界坐标系是全局坐标系，用于描述整个场景中所有物体相对一个共同参考点的位置和方向，通过世界坐标系可以直观表示不同物体间的相对位置。

通过模型（Model）矩阵将物体从物体坐标系转换到世界坐标系。模型矩阵用于对物体进行位移、缩放、旋转等操作。

###### 观察坐标系

观察坐标系也称为相机坐标系，以相机位置作为原点，通常以相机看向的方向作为-z轴，以相机上方作为y轴。

通过视图（View）矩阵将物体从世界坐标系转换到观察坐标系。视图矩阵对物体进行位移、旋转等操作。

###### 裁剪坐标系

可见的场景被定义在一个有限的范围内，因此裁剪超出范围的点，通常使用自定义坐标集表示可见的点，最后再将其转换为-1~1的设备坐标系。

通过投影（Projection）矩阵将物体从观察坐标系转换到裁剪坐标系。

有两种投影方式：

*   **正交投影**：正交投影需要定义裁剪空间的尺寸，以及近平面和远平面的位置，任何出现在近平面之前或远平面之后的坐标都会被裁剪掉。

    >   使用glm函数`glm::ortho(left, right, bottom, top, z_near, z_far)`创建正交投影矩阵。
    >
    >   *   `left`、`right`、`bottom`、`top`，观察坐标系下的裁剪空间尺寸。
    >   *   `z_near`，`z_far`，近平面和远平面相对相机z轴距离。

*   **透视投影**：正交投影需要定义视野、裁剪空间宽高比、近平面距离以及远平面距离。

    >   使用glm函数`glm::perspective(fovy, aspect, z_near, z_far)`创建透视投影矩阵。
    >
    >   *   `fovy`，y轴上的视野弧度。（可以通过`glm::radians(degree)`将角度转换为弧度。
    >   *   `aspect`，宽高比。

最终得到的裁剪坐标计算公式为：
$$
V_{clip} = M_{projection} \cdot M_{view} \cdot M_{model} \cdot M_{local}
$$
